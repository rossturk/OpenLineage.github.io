<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d5fe48b6cb84108d2593.css" id="gatsby-global-css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.bg-bg{--bg-opacity:1;background-color:#f8f8f8;background-color:rgba(248,248,248,var(--bg-opacity))}.bg-bgalt{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))}.border-primary{--border-opacity:1;border-color:#47576e;border-color:rgba(71,87,110,var(--border-opacity))}.border-secondary{--border-opacity:1;border-color:#3e3e3e;border-color:rgba(62,62,62,var(--border-opacity))}.hover\:border-primary:hover{--border-opacity:1;border-color:#47576e;border-color:rgba(71,87,110,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-2{border-width:2px}.border-t-2{border-top-width:2px}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.hidden{display:none}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.flex-1{flex:1 1 0%}.font-sans{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-bold{font-weight:700}.h-6{height:1.5rem}.h-8{height:2rem}.h-12{height:3rem}.h-px{height:1px}.h-full{height:100%}.h-screen{height:100vh}.text-base{font-size:1rem}.text-lg{font-size:1.125rem}.text-3xl{font-size:1.875rem}.text-5xl{font-size:3rem}.text-6xl{font-size:4rem}.text-7xl{font-size:5rem}.m-3{margin:.75rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.mx-3{margin-left:.75rem;margin-right:.75rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mx-5{margin-left:1.25rem;margin-right:1.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mt-1{margin-top:.25rem}.mr-2{margin-right:.5rem}.ml-2{margin-left:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.ml-4{margin-left:1rem}.mt-5{margin-top:1.25rem}.mb-6{margin-bottom:1.5rem}.mt-8{margin-top:2rem}.mt-12{margin-top:3rem}.mb-12{margin-bottom:3rem}.mt-20{margin-top:5rem}.max-w-none{max-width:none}.focus\:outline-none:focus,.outline-none{outline:2px solid transparent;outline-offset:2px}.overflow-hidden{overflow:hidden}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-2px{padding:2px}.px-0{padding-left:0;padding-right:0}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-12{padding-top:3rem;padding-bottom:3rem}.pt-1{padding-top:.25rem}.pl-2{padding-left:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.pb-6{padding-bottom:1.5rem}.pt-8{padding-top:2rem}.pb-12{padding-bottom:3rem}.pb-20{padding-bottom:5rem}.pb-40{padding-bottom:10rem}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.top-0{top:0}.bottom-0{bottom:0}.left-0{left:0}.resize-none{resize:none}.resize{resize:both}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.shadow-xl{box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04)}.focus\:shadow-2xl:focus,.hover\:shadow-2xl:hover,.shadow-2xl{box-shadow:0 25px 50px -12px rgba(0,0,0,.25)}.stroke-current{stroke:currentColor}.text-center{text-align:center}.text-color-default{--text-opacity:1;color:#3e3e3e;color:rgba(62,62,62,var(--text-opacity))}.text-color-1{--text-opacity:1;color:#47576e;color:rgba(71,87,110,var(--text-opacity))}.text-color-2{--text-opacity:1;color:#74a4bc;color:rgba(116,164,188,var(--text-opacity))}.text-color-3{--text-opacity:1;color:#f26522;color:rgba(242,101,34,var(--text-opacity))}.text-color-4{--text-opacity:1;color:#3e3e3e;color:rgba(62,62,62,var(--text-opacity))}.text-primary{--text-opacity:1;color:#47576e;color:rgba(71,87,110,var(--text-opacity))}.text-secondary{--text-opacity:1;color:#3e3e3e;color:rgba(62,62,62,var(--text-opacity))}.text-link{--text-opacity:1;color:#f26522;color:rgba(242,101,34,var(--text-opacity))}.text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.focus\:text-primary:focus{--text-opacity:1;color:#47576e;color:rgba(71,87,110,var(--text-opacity))}.uppercase{text-transform:uppercase}.align-middle{vertical-align:middle}.whitespace-pre{white-space:pre}.w-12{width:3rem}.w-16{width:4rem}.w-40{width:10rem}.w-auto{width:auto}.w-4\/5{width:80%}.w-full{width:100%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.scale-0{--transform-scale-x:0;--transform-scale-y:0}.scale-100{--transform-scale-x:1;--transform-scale-y:1}.transition-all{transition-property:all}.transition-shadow{transition-property:box-shadow}.transition-transform{transition-property:transform}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}.theme-dark .bg-bg{background-color:#3e3e3e}.theme-dark .bg-bgalt{background-color:#000}.theme-dark .border-primary{border-color:#f8f8f8}.theme-dark .border-secondary{border-color:#fff}.theme-dark .text-color-default{color:#a8a8aa}.theme-dark .text-color-1,.theme-dark .text-primary{color:#f8f8f8}.theme-dark .text-secondary{color:#fff}.bg-gradient-primary{background-image:linear-gradient(90deg,#47576e,#3e3e3e)}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}body{font-family:Didact Gothic,sans-serif}p{line-height:165%}.boxed{max-width:1024px;width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem}.large-container{max-width:2100px}@media (min-width:1024px){.boxed{max-width:768px}}@media (min-width:1280px){.boxed{max-width:1024px}}.nav .nav-links li{position:relative;display:inline-block;margin-left:.5rem;margin-right:.5rem}.nav .nav-links li a{display:inline-block;padding:.25rem;position:relative;z-index:10}.nav .nav-links li:before{content:"";position:absolute;width:0;height:0;border-radius:9999px;--bg-opacity:1;background-color:#47576e;background-color:rgba(71,87,110,var(--bg-opacity));left:0;right:0;bottom:0;top:0;margin:auto;opacity:.25;transition:width .25s,height .25s}.nav .nav-links li.active a,.nav .nav-links li:hover a{color:#f26522}.nav .nav-links .theme-switcher:before{display:none}.nav .line{width:0;transition:width .5s}.nav.scrolled .line{width:100%}.title h1{--text-opacity:1;color:#47576e;color:rgba(71,87,110,var(--text-opacity))}.btn{height:3rem;padding-left:1.5rem;padding-right:1.5rem;outline:2px solid transparent;outline-offset:2px;display:inline-flex;position:relative;overflow:hidden;align-items:center}.btn.disabled{opacity:.5}.btn span{position:relative;z-index:10}.btn:before{content:"";position:absolute;width:100%;height:100%;top:0;left:100%;transition:left .25s;transition-timing-function:cubic-bezier(1,2.13,1,-.1);z-index:1}.btn .icon-right{margin-left:.75rem}.btn .icon-left{margin-right:.75rem}.btn:focus{outline:2px solid transparent;outline-offset:2px}.btn-primary{--bg-opacity:1;background-color:#47576e;background-color:rgba(71,87,110,var(--bg-opacity));margin-top:1rem;margin-bottom:1rem;color:#fff}.btn-primary:before{--bg-opacity:1;background-color:#3e3e3e;background-color:rgba(62,62,62,var(--bg-opacity))}.btn-primary:focus:before,.btn-primary:hover:before{left:0}.integration-item .image{-webkit-clip-path:polygon(0 0,0 0,0 100%,0 100%);clip-path:polygon(0 0,0 0,0 100%,0 100%);transition:-webkit-clip-path .5s;transition:clip-path .5s;transition:clip-path .5s,-webkit-clip-path .5s;transition-timing-function:ease-in-out;z-index:3;transform:translateY(0)}.integration-item.even .image{-webkit-clip-path:polygon(100% 0,100% 0,100% 99%,100% 100%);clip-path:polygon(100% 0,100% 0,100% 99%,100% 100%)}.integration-item.begin-animation .image{-webkit-clip-path:polygon(0 0,100% 0,100% 100%,0 100%);clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}.integration-item .to-up{transform:translateY(50px);transition:transform .25s}.integration-item .to-up:nth-child(2){transition-delay:.2s}.integration-item.begin-animation .to-up{transform:translate(0)}.footer-links li{margin-left:.75rem;margin-right:.75rem}.animated-link-parent a{display:inline-block;position:relative}.animated-link-parent a:after{content:"";transition-property:width;position:absolute;background-image:linear-gradient(90deg,#47576e,#3e3e3e);transition-duration:.3s;width:0;left:0;bottom:0;height:2px}.animated-link-parent a:active:after,.animated-link-parent a:focus:after,.animated-link-parent a:hover:after{width:100%}.post-content p{margin-top:.75rem;margin-bottom:.75rem}.post-content h1,h2,h3,h4,h5,h6{--text-opacity:1;color:#74a4bc;color:rgba(116,164,188,var(--text-opacity));margin-top:1rem;margin-bottom:1rem}.post-content h1{font-size:3rem}.post-content h2{font-size:2.25rem}.post-content h3{font-size:1.875rem}.post-content h4{font-size:1.5rem}.post-content h5{font-size:1.25rem;font-size:1.125rem}.post-content hr{margin-top:1rem;margin-bottom:1rem;--border-opacity:1;border-color:#cfd8dc;border-color:rgba(207,216,220,var(--border-opacity))}.post-content ul{list-style:disc}.post-content ol{list-style:decimal}.post-content ol,.post-content ul{margin-left:1rem}.post-content ol ol,.post-content ul ul{margin-left:.75rem}.post-content li{margin-top:.5rem;margin-bottom:.5rem;margin-left:1.5rem}.post-content table{width:100%;margin-top:1.5rem;margin-bottom:1.5rem}.post-content table tr{--border-opacity:1;border-color:#cfd8dc;border-left-color:rgba(207,216,220,var(--border-opacity));border-bottom:2px solid #eee;border-bottom-color:rgba(207,216,220,var(--border-opacity));border-right-color:rgba(207,216,220,var(--border-opacity));border-top-color:rgba(207,216,220,var(--border-opacity))}.theme-dark .post-content table tr{border-bottom:2px solid #444}.post-content table tr td,.post-content table tr th{padding:.75rem .5rem;text-align:left}.post-content blockquote{border-left-width:4px;--border-opacity:1;border-color:#47576e;border-color:rgba(71,87,110,var(--border-opacity));padding:0 .75rem;margin:1.5rem 0}.post-content iframe{max-width:100%}.input.focused{padding-left:1rem;padding-right:1rem}.theme-dark .blog-item .focused,.theme-dark .input.focused{background:#222}.spin{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media (max-width:640px){html{font-size:15px}}.post-content a{--text-opacity:1;color:#74a4bc;color:rgba(116,164,188,var(--text-opacity));margin-top:1rem;margin-bottom:1rem}.post-content pre{overflow:scroll;color:#fff;background-color:#333;padding:1rem}.post-content img{margin:3rem}.int-title{color:#fff!important}@media (min-width:640px){.sm\:container,.sm\:w-full{width:100%}@media (min-width:640px){.sm\:container{max-width:640px}}@media (min-width:768px){.sm\:container{max-width:768px}}@media (min-width:1024px){.sm\:container{max-width:1024px}}@media (min-width:1280px){.sm\:container{max-width:1280px}}}@media (min-width:768px){.md\:flex{display:flex}.md\:justify-end{justify-content:flex-end}.md\:mt-6{margin-top:1.5rem}.md\:-mt-16{margin-top:-4rem}.md\:px-4{padding-left:1rem;padding-right:1rem}.md\:px-8{padding-left:2rem;padding-right:2rem}.md\:text-right{text-align:right}.md\:w-1\/2{width:50%}.md\:w-3\/4{width:75%}.md\:w-11\/12{width:91.666667%}.md\:container{width:100%}@media (min-width:640px){.md\:container{max-width:640px}}@media (min-width:768px){.md\:container{max-width:768px}}@media (min-width:1024px){.md\:container{max-width:1024px}}@media (min-width:1280px){.md\:container{max-width:1280px}}}@media (min-width:1024px){.lg\:bg-transparent{background-color:transparent}.lg\:box-content{box-sizing:content-box}.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:justify-between{justify-content:space-between}.lg\:h-auto{height:auto}.lg\:text-lg{font-size:1.125rem}.lg\:text-xl{font-size:1.25rem}.lg\:text-4xl{font-size:2.25rem}.lg\:text-6xl{font-size:4rem}.lg\:text-7xl{font-size:5rem}.lg\:mt-4{margin-top:1rem}.lg\:mt-12{margin-top:3rem}.lg\:mt-24{margin-top:6rem}.lg\:p-0{padding:0}.lg\:p-4{padding:1rem}.lg\:px-0{padding-left:0;padding-right:0}.lg\:px-6{padding-left:1.5rem;padding-right:1.5rem}.lg\:py-24{padding-top:6rem;padding-bottom:6rem}.lg\:px-24{padding-left:6rem;padding-right:6rem}.lg\:pt-0{padding-top:0}.lg\:pl-8{padding-left:2rem}.lg\:absolute{position:absolute}.lg\:relative{position:relative}.lg\:text-left{text-align:left}.lg\:text-color-default{--text-opacity:1;color:#3e3e3e;color:rgba(62,62,62,var(--text-opacity))}.lg\:text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.lg\:w-1\/2{width:50%}.lg\:w-1\/3{width:33.333333%}.lg\:w-2\/3{width:66.666667%}.lg\:w-3\/4{width:75%}.lg\:w-4\/5{width:80%}.lg\:w-full{width:100%}.theme-dark .lg\:text-color-default{color:#a8a8aa}.lg\:container{width:100%}@media (min-width:640px){.lg\:container{max-width:640px}}@media (min-width:768px){.lg\:container{max-width:768px}}@media (min-width:1024px){.lg\:container{max-width:1024px}}@media (min-width:1280px){.lg\:container{max-width:1280px}}}@media (min-width:1280px){.xl\:container{width:100%}@media (min-width:640px){.xl\:container{max-width:640px}}@media (min-width:768px){.xl\:container{max-width:768px}}@media (min-width:1024px){.xl\:container{max-width:1024px}}@media (min-width:1280px){.xl\:container{max-width:1280px}}}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Apache Spark | OpenLineage</title><link data-react-helmet="true" rel="icon" href="/images/icon.svg" type="image/png"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Didact+Gothic&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Spark is a popular, distributed data processing framework used for large dataset analytics and machine learning. Enabling OpenLineage in Spark jobs enables tracking lineage of jobs and datasets across Spark jobs, as well as giving visibility into the dependencies within a Spark application."/><meta data-react-helmet="true" property="og:title" content="Apache Spark"/><meta data-react-helmet="true" property="og:description" content="Spark is a popular, distributed data processing framework used for large dataset analytics and machine learning. Enabling OpenLineage in Spark jobs enables tracking lineage of jobs and datasets across Spark jobs, as well as giving visibility into the dependencies within a Spark application."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@openlineage"/><meta data-react-helmet="true" name="twitter:title" content="Apache Spark"/><meta data-react-helmet="true" name="twitter:description" content="Spark is a popular, distributed data processing framework used for large dataset analytics and machine learning. Enabling OpenLineage in Spark jobs enables tracking lineage of jobs and datasets across Spark jobs, as well as giving visibility into the dependencies within a Spark application."/><meta data-react-helmet="true" property="og:image" content="/static/194f5704d35e1daabfd2b75e03afcccb/banner.svg"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-199717351-1', 'auto', {});
      
      
      
      
      
      }</script><link as="script" rel="preload" href="/webpack-runtime-4a22edadfaf0df2b4dc4.js"/><link as="script" rel="preload" href="/framework-beda7bde9d7dca0755ce.js"/><link as="script" rel="preload" href="/app-bde2b28ded349b605cdb.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/commons-a0d9428a319ddefd2d58.js"/><link as="script" rel="preload" href="/2f4e51e97bf405fb63c5fa7a9b074dbddc2f03d3-2350ed2d501501cbf7b8.js"/><link as="script" rel="preload" href="/component---src-templates-integration-tsx-b1f02b8f04e2aa5fd0bc.js"/><link as="fetch" rel="preload" href="/page-data/integration/apache-spark/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1139857438.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1946588481.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2083862410.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2213455283.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2418326273.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3067102388.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="wrapper theme-light"><div class="text-color-default bg-bg"><div class="duration-300 transition-all flex justify-center lg:justify-between items-center z-20 fixed w-full nav p-5"><button class="absolute text-primary outline-0 lg:hidden" style="transform:translateY(-50%);top:50%;left:10px"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button><div class="r-swipe-sidebar-container" style="position:absolute"><div class="r-swipe-sidebar" style="position:fixed;left:-100%;width:70%;height:100%;top:0;z-index:9999;transition-property:left;transition-duration:0s;transition-timing-function:linear;transform:translate3d(0,0,0)"><div class="bg-bg h-full flex flex-col justify-center relative"><div class="absolute top-0 my-4 text-center w-full"><a title="OpenLineage" class="inline-block" href="/"><img src="/images/ol-logo.svg" alt="OpenLineage - logo" class="duration-300 transition-all h-8"/></a></div><div class="text-center"><ul class=""><li class="block my-2 "><a title="Home" class="text-color-2 focus:text-primary" href="/"><span>Home</span></a></li><li class="block my-2 "><a title="Getting Started" class="text-color-2 focus:text-primary" href="/getting-started"><span>Getting Started</span></a></li><li class="block my-2 active"><a title="Integrations" class="text-color-2 focus:text-primary" href="/integration"><span>Integrations</span></a></li><li class="block my-2 "><a title="Blog" class="text-color-2 focus:text-primary" href="/blog"><span>Blog</span></a></li></ul></div></div></div><div class="r-swipe-sidebar-overlay" role="button" tabindex="-1" style="position:fixed;top:0;bottom:0;left:-100%;width:100%;height:100%;background:#000;z-index:9998;transition-property:opacity;transition-duration:0s;opacity:0"></div></div><a title="OpenLineage" href="/"><img src="/images/ol-logo.svg" alt="OpenLineage - logo" class="duration-300 transition-all h-8"/></a><div class="hidden lg:block"><ul class="nav-links flex"><li class=" "><a title="Home" class="text-color-2 focus:text-primary" href="/"><span>Home</span></a></li><li class=" "><a title="Getting Started" class="text-color-2 focus:text-primary" href="/getting-started"><span>Getting Started</span></a></li><li class=" active"><a title="Integrations" class="text-color-2 focus:text-primary" href="/integration"><span>Integrations</span></a></li><li class=" "><a title="Blog" class="text-color-2 focus:text-primary" href="/blog"><span>Blog</span></a></li></ul></div><div class="absolute line h-px left-0 bottom-0 bg-gradient-primary"></div></div><div style="height:0px"></div><div class="md:px-4 mt-12 py-6 md:w-11/12 mx-auto"><div class="mx-auto relative"><div class="flex items-center justify-center relative lg:absolute w-full h-full top-0 left-0"><div class="px-4 py-8 lg:p-0 relative z-10 text-center text-color-default lg:text-white bg-bgalt lg:bg-transparent"><h1 class="text-5xl font-bold text-color-2 lg:text-white">Apache Spark</h1><p class="mt-3 md:w-3/4 mx-auto">Spark is a popular, distributed data processing framework used for large dataset analytics and machine learning. Enabling OpenLineage in Spark jobs enables tracking lineage of jobs and datasets across Spark jobs, as well as giving visibility into the dependencies within a Spark application.</p></div></div><img src="/static/194f5704d35e1daabfd2b75e03afcccb/banner.svg" alt="&#x27;&#x27;"/></div><div class="lg:w-3/4 md:w-11/12 sm:w-full p-3 mt-4 md:mt-6 mx-auto lg:mt-12 post-content"><p>Spark jobs typically run on clusters of machines. A single machine hosts the &quot;driver&quot; application,
which constructs a graph of jobs - e.g., reading data from a source, filtering, transforming, and
joining records, and writing results to some sink- and manages execution of those jobs. Spark&#x27;s
fundamental abstraction is the Resilient Distributed Dataset (RDD), which encapsulates distributed
reads and modifications of records. While RDDs can be used directly, it is far more common to work
with Spark Datasets or Dataframes, which is an API that adds explicit schemas for better performance
and the ability to interact with datasets using SQL. The Dataframe&#x27;s declarative API enables Spark
to optimize jobs by analyzing and manipulating an abstract query plan prior to execution.</p><h2>Collecting Lineage in Spark</h2><p>Collecting lineage requires hooking into Spark&#x27;s <code>ListenerBus</code> in the driver application and
collecting and analyzing execution events as they happen. Both raw RDD and Dataframe jobs post events
to the listener bus during execution. These events expose the structure of the job, including the
optimized query plan, allowing the Spark integration to analyze the job for datasets consumed and
produced, including attributes about the storage, such as location in GCS or S3, table names in a
relational database or warehouse, such as Redshift or Bigquery, and schemas. In addition to dataset
and job lineage, Spark SQL jobs also report logical plans, which can be compared across job runs to
track important changes in query plans, which may affect the correctness or speed of a job.</p><p>A single Spark application may execute multiple jobs. The Spark OpenLineage integration maps one
Spark job to a single OpenLineage Job. The application will be assigned a Run id at startup and each
job that executes will report the application&#x27;s Run id as its parent job run. Thus, an application
that reads one or more source datasets, writes an intermediate dataset, then transforms that
intermediate dataset and writes a final output dataset will report three jobs- the parent application
job, the initial job that reads the sources and creates the intermediate dataset, and the final job
that consumes the intermediate dataset and produces the final output. As an image:
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1200px">
      <a class="gatsby-resp-image-link" href="/static/92dd1101586659a5307c25291e4ac60d/c9c3a/spark-job-creation.dot.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:15.666666666666668%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnElEQVQI1z2L2wqCMACG9/5PEF1Et0GXERFFFnTADNQai8xg08UKtmEKMd2oManv6j+CLKdRDDHJa4fW+ieaj8MYY23j+G9sbgXwD3G3P1yuAykl5xwhlKap3XEu5t52NPEgur4dEEKMsa3Y4zmervwgArt92OkNZotNVVVlWRJCKKVKqaJ4QZSER0Sye3u2T8ZYrZQQMjqdL8ntC8vYof7H5uvwAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="image" title="image" src="/static/92dd1101586659a5307c25291e4ac60d/c1b63/spark-job-creation.dot.png" srcSet="/static/92dd1101586659a5307c25291e4ac60d/5a46d/spark-job-creation.dot.png 300w,/static/92dd1101586659a5307c25291e4ac60d/0a47e/spark-job-creation.dot.png 600w,/static/92dd1101586659a5307c25291e4ac60d/c1b63/spark-job-creation.dot.png 1200w,/static/92dd1101586659a5307c25291e4ac60d/c9c3a/spark-job-creation.dot.png 1289w" sizes="(max-width: 1200px) 100vw, 1200px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><h2>How to Use the Integration</h2><p>Adding OpenLineage metadata collection to existing Spark jobs was designed to be straightforward
and unobtrusive to the application. The Spark integration works as either a <code>javaagent</code> or as a
<code>SparkListener</code>.</p><h3>SparkListener</h3><p>The <code>SparkListener</code> approach is very simple and covers most cases. The listener simply analyzes
events, as they are posted by the SparkContext, and extracts job and dataset metadata that are
exposed by the RDD and Dataframe dependency graphs. Most data sources, such as filesystem sources
(including S3 and GCS), JDBC backends, and warehouses such as Redshift and Bigquery can be analyzed
and reported in this way.</p><h4>spark-submit</h4><p>The listener can be enabled by adding the following configuration to a <code>spark-submit</code> command:</p><pre><code class="language-bash">spark-submit --conf &quot;spark.extraListeners=marquez.spark.agent.SparkListener&quot; \
    --packages &quot;io.github.marquezproject:marquez-spark:0.15.1&quot; \
    --conf &quot;openlineage.host=http://&lt;your_ol_endpoint&gt;&quot; \
    --conf &quot;openlineage.namespace=my_job_namespace&quot; \
    --class com.mycompany.MySparkApp my_application.jar
</code></pre><p>Additional configuration can be set if applicable</p><table><tbody><tr><th>Configuration Key</th><th>Description</th><th>Default</th></tr><tr><td>openlineage.parentJobName</td><td>The job name of the parent job that triggered this Spark application</td><td></td></tr><tr><td>openlineage.parentRunId</td><td>The RunId of the parent job Run that triggered this Spark application</td><td> </td></tr><tr><td>openlineage.apiKey</td><td>The API Key used to authenticate with the OpenLineage server that collects events</td><td> </td></tr><tr><td>openlineage.version</td><td>The API version of the OpenLineage specification</td><td>1</td></tr></tbody></table><h4>spark-defaults.conf</h4><p>Alternatively, the same configuration parameters can be added to the <code>spark-defaults.conf</code> file on
cluster creation. Add the following key/value parameters to the <code>spark-defaults.conf</code> file:</p><pre><code>spark.jars.packages    io.github.marquezproject:marquez-spark:0.15.1
spark.extraListeners   marquez.spark.agent.SparkListener
openlineage.host       http://&lt;your_ol_endpoint&gt;
openlineage.namespace  my_job_namespace
</code></pre><p>The optional keys defined above can also be added here. When the job is submitted, additional or
overriding configuration values can be supplied. E.g., the <code>openlineage.host</code> and <code>openlineage.namespace</code>
can be defined in the <code>spark-defaults.conf</code> file and the <code>openlineage.parentRunId</code> and <code>openlineage.parentJobName</code>
configuration can be supplied when the job is submitted by the parent job.</p><h3>Javaagent</h3><p>The Javaagent approach is the earliest approach to adding lineage events. It was aimed to support
instrumenting Spark code directly by manipulating bytecode at runtime. In the case of Dataframe or
RDD code that doesn&#x27;t expose the underlying datasource directly, the javaagent approach will allow
injecting bytecode at runtime to expose the required information. This approach requires being able
to add the <code>marquez-spark</code> jar on the driver host and adding the correct JVM startup parameters. This
may not be possible, e.g., on a serverless Spark platform, such as AWS Glue.</p><h4>spark-submit</h4><p>The following configuration must be added to the <code>spark-submit</code> command when the job is submitted:</p><pre><code class="language-bash">spark-submit --conf spark.driver.extraJavaOptions=-javaagent:&lt;marquez-spark-jar-location&gt;=http://&lt;your_ol_endpoint&gt;/api/v1/namespaces/&lt;your_job_namespace&gt;/?api_key=&lt;optional_api_key&gt;
</code></pre><p>If a parent job run is triggering the Spark job run, the parent job&#x27;s name and Run id can be included as such:</p><pre><code class="language-bash">spark-submit --conf spark.driver.extraJavaOptions=-javaagent:&lt;marquez-spark-jar-location&gt;=http://&lt;your_ol_endpoint&gt;/api/v1/namespaces/&lt;your_job_namespace&gt;/jobs/&lt;parent_job_name&gt;/runs/&lt;parent_run_id&gt;?api_key=&lt;optional_api_key&gt;
</code></pre><h3>From Airflow</h3><p>The same parameters passed to <code>spark-submit</code> can be supplied from Airflow and other schedulers. If
using the <a href="../apache-airflow/">marquez-airflow</a> integration, each task in the DAG has its own Run id
which can be connected to the Spark job run via the <code>openlineage.parentRunId</code> parameter. For example,
here is an example of a <code>DataProcPySparkOperator</code> that submits a Pyspark application on Dataproc:</p><pre><code class="language-python">t1 = DataProcPySparkOperator(
    task_id=job_name,
    gcp_conn_id=&#x27;google_cloud_default&#x27;,
    project_id=&#x27;project_id&#x27;,
    cluster_name=&#x27;cluster-name&#x27;,
    region=&#x27;us-west1&#x27;,
    main=&#x27;gs://bucket/your-prog.py&#x27;,
    job_name=job_name,
    dataproc_pyspark_properties={
      &quot;spark.extraListeners&quot;: &quot;marquez.spark.agent.SparkListener&quot;,
      &quot;spark.jars.packages&quot;: &quot;io.github.marquezproject:marquez-spark:0.15.+&quot;,
      &quot;openlineage.url&quot;: f&quot;{marquez_url}/api/v1/namespaces/{marquez_namespace}/jobs/dump_orders_to_gcs/runs/{{{{task_run_id(run_id, task)}}}}?api_key={api_key}&quot;
    },
    dag=dag)
</code></pre><p>The same job can be submitted using the <code>javaagent</code> approach:</p><pre><code class="language-python">t1 = DataProcPySparkOperator(
    task_id=job_name,
    gcp_conn_id=&#x27;google_cloud_default&#x27;,
    project_id=&#x27;project_id&#x27;,
    cluster_name=&#x27;cluster-name&#x27;,
    region=&#x27;us-west1&#x27;,
    main=&#x27;gs://bucket/your-prog.py&#x27;,
    job_name=job_name,
    dataproc_pyspark_properties={
      &#x27;spark.driver.extraJavaOptions&#x27;:
        f&quot;-javaagent:marquez-spark-0.15.0.jar={marquez_url}/api/v1/namespaces/{marquez_namespace}/jobs/dump_orders_to_gcs/runs/{{{{task_run_id(run_id, task)}}}}?api_key={api_key}&quot;
    files=&quot;https://repo1.maven.org/maven2/io/github/marquezproject/marquez-spark/0.15.0/marquez-spark-0.15.0.jar&quot;,
    dag=dag)
</code></pre></div></div><footer class="footer bg-bgalt py-12"><div class="container mx-auto text-center"><div class="flex justify-center my-3 mb-6"><a title="OpenLineage" href="/"><img src="/images/ol-logo.svg" alt="OpenLineage - logo" class="w-40"/></a></div><div class="text-color-2 my-3 footer-links animated-link-parent"><ul class="flex items-center justify-center flex-wrap"><li class=" "><a title="Home" class="text-color-2 focus:text-primary" href="/"><span>Home</span></a></li><li class=" "><a title="Getting Started" class="text-color-2 focus:text-primary" href="/getting-started"><span>Getting Started</span></a></li><li class=" "><a title="Integrations" class="text-color-2 focus:text-primary" href="/integration"><span>Integrations</span></a></li><li class=" "><a title="Blog" class="text-color-2 focus:text-primary" href="/blog"><span>Blog</span></a></li></ul></div><div class="text-color-2 my-3"><ul><li class="inline-block mx-3 animated-link-parent"><a href="https://twitter.com/OpenLineage" title="Twitter"><span>Twitter</span></a></li><li class="inline-block mx-3 animated-link-parent"><a href="http://bit.ly/OpenLineageSlack" title="Slack"><span>Slack</span></a></li><li class="inline-block mx-3 animated-link-parent"><a href="https://github.com/OpenLineage" title="GitHub"><span>GitHub</span></a></li></ul></div><p class="text-color-default text-lg">Copyright © <!-- -->2021<!-- --> The Linux Foundation®. All rights reserved.</p></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/integration/apache-spark/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-404a8fe84b9b126210e7.js"],"app":["/app-bde2b28ded349b605cdb.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-446fa3a5db06571e140f.js"],"component---src-pages-contact-tsx":["/component---src-pages-contact-tsx-00a5b837a729335aca76.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-edccbcb78163ca5f170c.js"],"component---src-templates-basepages-tsx":["/component---src-templates-basepages-tsx-71e7c2eb707ed814873d.js"],"component---src-templates-blog-list-tsx":["/component---src-templates-blog-list-tsx-23a6f0ba0c31c3bdce62.js"],"component---src-templates-blog-tsx":["/component---src-templates-blog-tsx-edf5fc59972dd895bb4a.js"],"component---src-templates-integration-list-tsx":["/component---src-templates-integration-list-tsx-b7dc564d5c591e93403c.js"],"component---src-templates-integration-tsx":["/component---src-templates-integration-tsx-b1f02b8f04e2aa5fd0bc.js"]};/*]]>*/</script><script src="/polyfill-404a8fe84b9b126210e7.js" nomodule=""></script><script src="/component---src-templates-integration-tsx-b1f02b8f04e2aa5fd0bc.js" async=""></script><script src="/2f4e51e97bf405fb63c5fa7a9b074dbddc2f03d3-2350ed2d501501cbf7b8.js" async=""></script><script src="/commons-a0d9428a319ddefd2d58.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-bde2b28ded349b605cdb.js" async=""></script><script src="/framework-beda7bde9d7dca0755ce.js" async=""></script><script src="/webpack-runtime-4a22edadfaf0df2b4dc4.js" async=""></script></body></html>